{{- $style := resources.Get "scss/partials/comments/utterances.scss" | resources.ToCSS | minify -}}
<link rel="stylesheet" href="{{ $style.RelPermalink }}">

<div class="utterances-container">
        <script src="https://utteranc.es/client.js"
                repo="{{ .Site.Params.comments.utterances.repo }}"
                issue-term="{{ .Site.Params.comments.utterances.issueTerm }}"
                {{ with .Site.Params.comments.utterances.label }}
                label="{{ . }}"
                {{ end }}
                crossorigin="anonymous"
                async
                >
        </script>

        {{- $opts := dict "minify" hugo.IsProduction -}}
        {{- $script := resources.Get "ts/utterances.ts" | js.Build $opts -}}
        <script type="text/javascript" src="{{ $script.RelPermalink }}" defer></script>
</div>